jQuery(document).ready(function(e){e(document).foundation({equalizer:{equalize_on_stack:!0}}),e(document).on("click","[data-reveal]",function(t){t.preventDefault();var i=e(this).data("reveal");e("#"+i).fadeIn(300),e("body").addClass("no-scroll")}),e(document).on("click",'[data-action="modal-close"]',function(t){t.preventDefault(),e(this).parents(".modal").fadeOut(300),e("body").removeClass("no-scroll")});var t=e(".mobile-menu-wrapper").height();e(".mobile-menu-wrapper").css({maxHeight:0,position:"relative",zIndex:1}),e(".mobile-menu-wrapper .stripe").css("height",t+"px"),e(document).on("click",'[data-action="toggle-mobile-menu"]',function(i){i.preventDefault();var n=e("body");e(this).toggleClass("open"),e("body").toggleClass("mobile-menu-in"),n.hasClass("mobile-menu-in")?e(".mobile-menu-wrapper").css("visibility","visible").animate({maxHeight:t+"px"},100):e(".mobile-menu-wrapper").css("visibility","visible").animate({maxHeight:"0px"},100)}),e(".search .btn-submit").on("click",function(t){e(this).html(e(this).parents(".hero").length?'<i class="dots-loading dots-loading-small"></i>':'<i class="dots-loading"></i>')})}),function(e,t,i,n){"use strict";function a(e){return("string"==typeof e||e instanceof String)&&(e=e.replace(/^['\\/"]+|(;\s?})+|['\\/"]+$/g,"")),e}var s=function(t){for(var i=t.length,n=e("head");i--;)0===n.has("."+t[i]).length&&n.append('<meta class="'+t[i]+'" />')};s(["foundation-mq-small","foundation-mq-small-only","foundation-mq-medium","foundation-mq-medium-only","foundation-mq-large","foundation-mq-large-only","foundation-mq-xlarge","foundation-mq-xlarge-only","foundation-mq-xxlarge","foundation-data-attribute-namespace"]),e(function(){"undefined"!=typeof FastClick&&"undefined"!=typeof i.body&&FastClick.attach(i.body)});var l=function(t,n){if("string"==typeof t){if(n){var a;if(n.jquery){if(a=n[0],!a)return n}else a=n;return e(a.querySelectorAll(t))}return e(i.querySelectorAll(t))}return e(t,n)},r=function(e){var t=[];return e||t.push("data"),this.namespace.length>0&&t.push(this.namespace),t.push(this.name),t.join("-")},o=function(e){for(var t=e.split("-"),i=t.length,n=[];i--;)0!==i?n.push(t[i]):this.namespace.length>0?n.push(this.namespace,t[i]):n.push(t[i]);return n.reverse().join("-")},c=function(t,i){var n=this,a=function(){var a=l(this),s=!a.data(n.attr_name(!0)+"-init");a.data(n.attr_name(!0)+"-init",e.extend({},n.settings,i||t,n.data_options(a))),s&&n.events(this)};return l(this.scope).is("["+this.attr_name()+"]")?a.call(this.scope):l("["+this.attr_name()+"]",this.scope).each(a),"string"==typeof t?this[t].call(this,i):void 0},u=function(e,t){function i(){t(e[0])}function n(){if(this.one("load",i),/MSIE (\d+\.\d+);/.test(navigator.userAgent)){var e=this.attr("src"),t=e.match(/\?/)?"&":"?";t+="random="+(new Date).getTime(),this.attr("src",e+t)}}return e.attr("src")?void(e[0].complete||4===e[0].readyState?i():n.call(e)):void i()};t.matchMedia||(t.matchMedia=function(){var e=t.styleMedia||t.media;if(!e){var n=i.createElement("style"),a=i.getElementsByTagName("script")[0],s=null;n.type="text/css",n.id="matchmediajs-test",a.parentNode.insertBefore(n,a),s="getComputedStyle"in t&&t.getComputedStyle(n,null)||n.currentStyle,e={matchMedium:function(e){var t="@media "+e+"{ #matchmediajs-test { width: 1px; } }";return n.styleSheet?n.styleSheet.cssText=t:n.textContent=t,"1px"===s.width}}}return function(t){return{matches:e.matchMedium(t||"all"),media:t||"all"}}}()),function(e){function i(){n&&(l(i),o&&e.fx.tick())}for(var n,a=0,s=["webkit","moz"],l=t.requestAnimationFrame,r=t.cancelAnimationFrame,o="undefined"!=typeof e.fx;a<s.length&&!l;a++)l=t[s[a]+"RequestAnimationFrame"],r=r||t[s[a]+"CancelAnimationFrame"]||t[s[a]+"CancelRequestAnimationFrame"];l?(t.requestAnimationFrame=l,t.cancelAnimationFrame=r,o&&(e.fx.timer=function(t){t()&&e.timers.push(t)&&!n&&(n=!0,i())},e.fx.stop=function(){n=!1})):(t.requestAnimationFrame=function(e){var i=(new Date).getTime(),n=Math.max(0,16-(i-a)),s=t.setTimeout(function(){e(i+n)},n);return a=i+n,s},t.cancelAnimationFrame=function(e){clearTimeout(e)})}(e),t.Foundation={name:"Foundation",version:"5.5.2",media_queries:{small:l(".foundation-mq-small").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),"small-only":l(".foundation-mq-small-only").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),medium:l(".foundation-mq-medium").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),"medium-only":l(".foundation-mq-medium-only").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),large:l(".foundation-mq-large").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),"large-only":l(".foundation-mq-large-only").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),xlarge:l(".foundation-mq-xlarge").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),"xlarge-only":l(".foundation-mq-xlarge-only").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),xxlarge:l(".foundation-mq-xxlarge").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,"")},stylesheet:e("<style></style>").appendTo("head")[0].sheet,global:{namespace:n},init:function(e,i,n,a,s){var r=[e,n,a,s],o=[];if(this.rtl=/rtl/i.test(l("html").attr("dir")),this.scope=e||this.scope,this.set_namespace(),i&&"string"==typeof i&&!/reflow/i.test(i))this.libs.hasOwnProperty(i)&&o.push(this.init_lib(i,r));else for(var c in this.libs)o.push(this.init_lib(c,i));return l(t).load(function(){l(t).trigger("resize.fndtn.clearing").trigger("resize.fndtn.dropdown").trigger("resize.fndtn.equalizer").trigger("resize.fndtn.interchange").trigger("resize.fndtn.joyride").trigger("resize.fndtn.magellan").trigger("resize.fndtn.topbar").trigger("resize.fndtn.slider")}),e},init_lib:function(t,i){return this.libs.hasOwnProperty(t)?(this.patch(this.libs[t]),i&&i.hasOwnProperty(t)?("undefined"!=typeof this.libs[t].settings?e.extend(!0,this.libs[t].settings,i[t]):"undefined"!=typeof this.libs[t].defaults&&e.extend(!0,this.libs[t].defaults,i[t]),this.libs[t].init.apply(this.libs[t],[this.scope,i[t]])):(i=i instanceof Array?i:new Array(i),this.libs[t].init.apply(this.libs[t],i))):function(){}},patch:function(e){e.scope=this.scope,e.namespace=this.global.namespace,e.rtl=this.rtl,e.data_options=this.utils.data_options,e.attr_name=r,e.add_namespace=o,e.bindings=c,e.S=this.utils.S},inherit:function(e,t){for(var i=t.split(" "),n=i.length;n--;)this.utils.hasOwnProperty(i[n])&&(e[i[n]]=this.utils[i[n]])},set_namespace:function(){var t=this.global.namespace===n?e(".foundation-data-attribute-namespace").css("font-family"):this.global.namespace;this.global.namespace=t===n||/false/i.test(t)?"":t},libs:{},utils:{S:l,throttle:function(e,t){var i=null;return function(){var n=this,a=arguments;null==i&&(i=setTimeout(function(){e.apply(n,a),i=null},t))}},debounce:function(e,t,i){var n,a;return function(){var s=this,l=arguments,r=function(){n=null,i||(a=e.apply(s,l))},o=i&&!n;return clearTimeout(n),n=setTimeout(r,t),o&&(a=e.apply(s,l)),a}},data_options:function(t,i){function n(e){return!isNaN(e-0)&&null!==e&&""!==e&&e!==!1&&e!==!0}function a(t){return"string"==typeof t?e.trim(t):t}i=i||"options";var s,l,r,o={},c=function(e){var t=Foundation.global.namespace;return e.data(t.length>0?t+"-"+i:i)},u=c(t);if("object"==typeof u)return u;for(r=(u||":").split(";"),s=r.length;s--;)l=r[s].split(":"),l=[l[0],l.slice(1).join(":")],/true/i.test(l[1])&&(l[1]=!0),/false/i.test(l[1])&&(l[1]=!1),n(l[1])&&(l[1]=-1===l[1].indexOf(".")?parseInt(l[1],10):parseFloat(l[1])),2===l.length&&l[0].length>0&&(o[a(l[0])]=a(l[1]));return o},register_media:function(t,i){Foundation.media_queries[t]===n&&(e("head").append('<meta class="'+i+'"/>'),Foundation.media_queries[t]=a(e("."+i).css("font-family")))},add_custom_rule:function(e,t){if(t===n&&Foundation.stylesheet)Foundation.stylesheet.insertRule(e,Foundation.stylesheet.cssRules.length);else{var i=Foundation.media_queries[t];i!==n&&Foundation.stylesheet.insertRule("@media "+Foundation.media_queries[t]+"{ "+e+" }",Foundation.stylesheet.cssRules.length)}},image_loaded:function(e,t){function i(e){for(var t=e.length,i=t-1;i>=0;i--)if(e.attr("height")===n)return!1;return!0}var a=this,s=e.length;(0===s||i(e))&&t(e),e.each(function(){u(a.S(this),function(){s-=1,0===s&&t(e)})})},random_str:function(){return this.fidx||(this.fidx=0),this.prefix=this.prefix||[this.name||"F",(+new Date).toString(36)].join("-"),this.prefix+(this.fidx++).toString(36)},match:function(e){return t.matchMedia(e).matches},is_small_up:function(){return this.match(Foundation.media_queries.small)},is_medium_up:function(){return this.match(Foundation.media_queries.medium)},is_large_up:function(){return this.match(Foundation.media_queries.large)},is_xlarge_up:function(){return this.match(Foundation.media_queries.xlarge)},is_xxlarge_up:function(){return this.match(Foundation.media_queries.xxlarge)},is_small_only:function(){return!(this.is_medium_up()||this.is_large_up()||this.is_xlarge_up()||this.is_xxlarge_up())},is_medium_only:function(){return this.is_medium_up()&&!this.is_large_up()&&!this.is_xlarge_up()&&!this.is_xxlarge_up()},is_large_only:function(){return this.is_medium_up()&&this.is_large_up()&&!this.is_xlarge_up()&&!this.is_xxlarge_up()},is_xlarge_only:function(){return this.is_medium_up()&&this.is_large_up()&&this.is_xlarge_up()&&!this.is_xxlarge_up()},is_xxlarge_only:function(){return this.is_medium_up()&&this.is_large_up()&&this.is_xlarge_up()&&this.is_xxlarge_up()}}},e.fn.foundation=function(){var e=Array.prototype.slice.call(arguments,0);return this.each(function(){return Foundation.init.apply(Foundation,[this].concat(e)),this})}}(jQuery,window,window.document),function(e,t,i,n){"use strict";Foundation.libs.equalizer={name:"equalizer",version:"5.5.2",settings:{use_tallest:!0,before_height_change:e.noop,after_height_change:e.noop,equalize_on_stack:!1,act_on_hidden_el:!1},init:function(e,t,i){Foundation.inherit(this,"image_loaded"),this.bindings(t,i),this.reflow()},events:function(){this.S(t).off(".equalizer").on("resize.fndtn.equalizer",function(e){this.reflow()}.bind(this))},equalize:function(t){var i,n,a=!1,s=t.data("equalizer"),l=t.data(this.attr_name(!0)+"-init")||this.settings;if(i=t.find(l.act_on_hidden_el?s?"["+this.attr_name()+'-watch="'+s+'"]':"["+this.attr_name()+"-watch]":s?"["+this.attr_name()+'-watch="'+s+'"]:visible':"["+this.attr_name()+"-watch]:visible"),0!==i.length&&(l.before_height_change(),t.trigger("before-height-change.fndth.equalizer"),i.height("inherit"),l.equalize_on_stack!==!1||(n=i.first().offset().top,i.each(function(){return e(this).offset().top!==n?(a=!0,!1):void 0}),!a))){var r=i.map(function(){return e(this).outerHeight(!1)}).get();if(l.use_tallest){var o=Math.max.apply(null,r);i.css("height",o)}else{var c=Math.min.apply(null,r);i.css("height",c)}l.after_height_change(),t.trigger("after-height-change.fndtn.equalizer")}},reflow:function(){var t=this;this.S("["+this.attr_name()+"]",this.scope).each(function(){var i=e(this),n=i.data("equalizer-mq"),a=!0;n&&(n="is_"+n.replace(/-/g,"_"),Foundation.utils.hasOwnProperty(n)&&(a=!1)),t.image_loaded(t.S("img",this),function(){if(a||Foundation.utils[n]())t.equalize(i);else{var e=i.find("["+t.attr_name()+"-watch]:visible");e.css("height","auto")}})})}}}(jQuery,window,window.document),function(e,t,i,n){"use strict";var a=function(){},s=function(a,s){if(a.hasClass(s.slides_container_class))return this;var c,u,d,h,p,f,m=this,g=a,_=0,v=!1;m.slides=function(){return g.children(s.slide_selector)},m.slides().first().addClass(s.active_slide_class),m.update_slide_number=function(t){s.slide_number&&(u.find("span:first").text(parseInt(t)+1),u.find("span:last").text(m.slides().length)),s.bullets&&(d.children().removeClass(s.bullets_active_class),e(d.children().get(t)).addClass(s.bullets_active_class))},m.update_active_link=function(t){var i=e('[data-orbit-link="'+m.slides().eq(t).attr("data-orbit-slide")+'"]');i.siblings().removeClass(s.bullets_active_class),i.addClass(s.bullets_active_class)},m.build_markup=function(){g.wrap('<div class="'+s.container_class+'"></div>'),c=g.parent(),g.addClass(s.slides_container_class),s.stack_on_small&&c.addClass(s.stack_on_small_class),s.navigation_arrows&&(c.append(e('<a href="#"><span></span></a>').addClass(s.prev_class)),c.append(e('<a href="#"><span></span></a>').addClass(s.next_class))),s.timer&&(h=e("<div>").addClass(s.timer_container_class),h.append("<span>"),h.append(e("<div>").addClass(s.timer_progress_class)),h.addClass(s.timer_paused_class),c.append(h)),s.slide_number&&(u=e("<div>").addClass(s.slide_number_class),u.append("<span></span> "+s.slide_number_text+" <span></span>"),c.append(u)),s.bullets&&(d=e("<ol>").addClass(s.bullets_container_class),c.append(d),d.wrap('<div class="orbit-bullets-container"></div>'),m.slides().each(function(t,i){var n=e("<li>").attr("data-orbit-slide",t).on("click",m.link_bullet);d.append(n)}))},m._goto=function(t,i){if(t===_)return!1;"object"==typeof f&&f.restart();var n=m.slides(),a="next";if(v=!0,_>t&&(a="prev"),t>=n.length){if(!s.circular)return!1;t=0}else if(0>t){if(!s.circular)return!1;t=n.length-1}var l=e(n.get(_)),r=e(n.get(t));l.css("zIndex",2),l.removeClass(s.active_slide_class),r.css("zIndex",4).addClass(s.active_slide_class),g.trigger("before-slide-change.fndtn.orbit"),s.before_slide_change(),m.update_active_link(t);var o=function(){var e=function(){_=t,v=!1,i===!0&&(f=m.create_timer(),f.start()),m.update_slide_number(_),g.trigger("after-slide-change.fndtn.orbit",[{slide_number:_,total_slides:n.length}]),s.after_slide_change(_,n.length)};g.outerHeight()!=r.outerHeight()&&s.variable_height?g.animate({height:r.outerHeight()},250,"linear",e):e()};if(1===n.length)return o(),!1;var c=function(){"next"===a&&p.next(l,r,o),"prev"===a&&p.prev(l,r,o)};r.outerHeight()>g.outerHeight()&&s.variable_height?g.animate({height:r.outerHeight()},250,"linear",c):c()},m.next=function(e){e.stopImmediatePropagation(),e.preventDefault(),m._goto(_+1)},m.prev=function(e){e.stopImmediatePropagation(),e.preventDefault(),m._goto(_-1)},m.link_custom=function(t){t.preventDefault();var i=e(this).attr("data-orbit-link");if("string"==typeof i&&""!=(i=e.trim(i))){var n=c.find("[data-orbit-slide="+i+"]");-1!=n.index()&&m._goto(n.index())}},m.link_bullet=function(t){var i=e(this).attr("data-orbit-slide");if("string"==typeof i&&""!=(i=e.trim(i)))if(isNaN(parseInt(i))){var n=c.find("[data-orbit-slide="+i+"]");-1!=n.index()&&m._goto(n.index()+1)}else m._goto(parseInt(i))},m.timer_callback=function(){m._goto(_+1,!0)},m.compute_dimensions=function(){var t=e(m.slides().get(_)),i=t.outerHeight();s.variable_height||m.slides().each(function(){e(this).outerHeight()>i&&(i=e(this).outerHeight())}),g.height(i)},m.create_timer=function(){var e=new l(c.find("."+s.timer_container_class),s,m.timer_callback);return e},m.stop_timer=function(){"object"==typeof f&&f.stop()},m.toggle_timer=function(){var e=c.find("."+s.timer_container_class);e.hasClass(s.timer_paused_class)?("undefined"==typeof f&&(f=m.create_timer()),f.start()):"object"==typeof f&&f.stop()},m.init=function(){m.build_markup(),s.timer&&(f=m.create_timer(),Foundation.utils.image_loaded(this.slides().children("img"),f.start)),p=new o(s,g),"slide"===s.animation&&(p=new r(s,g)),c.on("click","."+s.next_class,m.next),c.on("click","."+s.prev_class,m.prev),s.next_on_click&&c.on("click","."+s.slides_container_class+" [data-orbit-slide]",m.link_bullet),c.on("click",m.toggle_timer),s.swipe&&c.on("touchstart.fndtn.orbit",function(e){e.touches||(e=e.originalEvent);var t={start_page_x:e.touches[0].pageX,start_page_y:e.touches[0].pageY,start_time:(new Date).getTime(),delta_x:0,is_scrolling:n};c.data("swipe-transition",t),e.stopPropagation()}).on("touchmove.fndtn.orbit",function(e){if(e.touches||(e=e.originalEvent),!(e.touches.length>1||e.scale&&1!==e.scale)){var t=c.data("swipe-transition");if("undefined"==typeof t&&(t={}),t.delta_x=e.touches[0].pageX-t.start_page_x,"undefined"==typeof t.is_scrolling&&(t.is_scrolling=!!(t.is_scrolling||Math.abs(t.delta_x)<Math.abs(e.touches[0].pageY-t.start_page_y))),!t.is_scrolling&&!t.active){e.preventDefault();var i=t.delta_x<0?_+1:_-1;t.active=!0,m._goto(i)}}}).on("touchend.fndtn.orbit",function(e){c.data("swipe-transition",{}),e.stopPropagation()}),c.on("mouseenter.fndtn.orbit",function(e){s.timer&&s.pause_on_hover&&m.stop_timer()}).on("mouseleave.fndtn.orbit",function(e){s.timer&&s.resume_on_mouseout&&f.start()}),e(i).on("click","[data-orbit-link]",m.link_custom),e(t).on("load resize",m.compute_dimensions),Foundation.utils.image_loaded(this.slides().children("img"),m.compute_dimensions),Foundation.utils.image_loaded(this.slides().children("img"),function(){c.prev("."+s.preloader_class).css("display","none"),m.update_slide_number(0),m.update_active_link(0),g.trigger("ready.fndtn.orbit")})},m.init()},l=function(e,t,i){var n,a,s=this,l=t.timer_speed,r=e.find("."+t.timer_progress_class),o=-1;this.update_progress=function(e){var t=r.clone();t.attr("style",""),t.css("width",e+"%"),r.replaceWith(t),r=t},this.restart=function(){clearTimeout(a),e.addClass(t.timer_paused_class),o=-1,s.update_progress(0)},this.start=function(){return e.hasClass(t.timer_paused_class)?(o=-1===o?l:o,e.removeClass(t.timer_paused_class),n=(new Date).getTime(),r.animate({width:"100%"},o,"linear"),a=setTimeout(function(){s.restart(),i()},o),void e.trigger("timer-started.fndtn.orbit")):!0},this.stop=function(){if(e.hasClass(t.timer_paused_class))return!0;clearTimeout(a),e.addClass(t.timer_paused_class);var i=(new Date).getTime();o-=i-n;var r=100-o/l*100;s.update_progress(r),e.trigger("timer-stopped.fndtn.orbit")}},r=function(t,i){var n=t.animation_speed,a=1===e("html[dir=rtl]").length,s=a?"marginRight":"marginLeft",l={};l[s]="0%",this.next=function(e,t,i){e.animate({marginLeft:"-100%"},n),t.animate(l,n,function(){e.css(s,"100%"),i()})},this.prev=function(e,t,i){e.animate({marginLeft:"100%"},n),t.css(s,"-100%"),t.animate(l,n,function(){e.css(s,"100%"),i()})}},o=function(t,i){{var n=t.animation_speed;1===e("html[dir=rtl]").length}this.next=function(e,t,i){t.css({margin:"0%",opacity:"0.01"}),t.animate({opacity:"1"},n,"linear",function(){e.css("margin","100%"),i()})},this.prev=function(e,t,i){t.css({margin:"0%",opacity:"0.01"}),t.animate({opacity:"1"},n,"linear",function(){e.css("margin","100%"),i()})}};Foundation.libs=Foundation.libs||{},Foundation.libs.orbit={name:"orbit",version:"5.5.2",settings:{animation:"slide",timer_speed:1e4,pause_on_hover:!0,resume_on_mouseout:!1,next_on_click:!0,animation_speed:500,stack_on_small:!1,navigation_arrows:!0,slide_number:!0,slide_number_text:"of",container_class:"orbit-container",stack_on_small_class:"orbit-stack-on-small",next_class:"orbit-next",prev_class:"orbit-prev",timer_container_class:"orbit-timer",timer_paused_class:"paused",timer_progress_class:"orbit-progress",slides_container_class:"orbit-slides-container",preloader_class:"preloader",slide_selector:"*",bullets_container_class:"orbit-bullets",bullets_active_class:"active",slide_number_class:"orbit-slide-number",caption_class:"orbit-caption",active_slide_class:"active",orbit_transition_class:"orbit-transitioning",bullets:!0,circular:!0,timer:!0,variable_height:!1,swipe:!0,before_slide_change:a,after_slide_change:a},init:function(e,t,i){this.bindings(t,i)},events:function(e){var t=new s(this.S(e),this.S(e).data("orbit-init"));this.S(e).data(this.name+"-instance",t)},reflow:function(){var e=this;if(e.S(e.scope).is("[data-orbit]")){var t=e.S(e.scope),i=t.data(e.name+"-instance");i.compute_dimensions()}else e.S("[data-orbit]",e.scope).each(function(t,i){var n=e.S(i),a=(e.data_options(n),n.data(e.name+"-instance"));a.compute_dimensions()})}}}(jQuery,window,window.document),function(e){function t(t){e.each(e(".zselect"),function(t,i){var n=e(i).outerWidth();e(i).find("ul").attr("style","width:"+n+"px!important;")})}function i(t,i,n){var a=n||["Selezionati ","di "],s=e("div#"+t+" ul li input:checked").length,l=e("div#"+t+" ul li input:checkbox").length;s>0?e(".zselect#"+t+" span.zmshead").text(a[0]+" "+s+" "+a[1]+" "+l):e(".zselect#"+t+" span.zmshead").html(void 0===i?"&nbsp;":i)}e(document).on("click",function(t){var i=!1;"SPAN"==t.target.tagName&&(i=e(t.target).parent().attr("id")),"DIV"==t.target.tagName&&(i=e(t.target).attr("id"));var n=e(".zselect ul");(n.parent().is(t.target)||n.prev().is(t.target)||n.is(":visible")&&!n.parent().is(t.target)&&0===n.has(t.target).length)&&(i?e(".zselect#"+i+" ul").toggle():n.hide())}),e(window).on("keydown",function(t){t=t||window.event,27===t.keyCode&&(e("li.zmsfilter input").val("").keyup(),e(".zselect ul").hide())}),e(document).on("click",".zselect li, .zselect li input:checkbox",function(t){var i=e.Event("zbefore_change",{target:t.target});return e(this).trigger(i),i.result===!1?(t.preventDefault(),void("LI"==e(this).prop("tagName")?(e(this).children().attr("checked",!1),e(this).children().trigger("change")):(e(this).attr("checked",!1),e(this).trigger("change")))):(e(this).trigger("change"),void("INPUT"!==e(t.target).prop("tagName")&&e("input:checkbox[disabled!='disabled']",this).prop("checked",function(e,t){return!t}).trigger("change")))}),e(document).on("click",".selectall,.deselectall",function(){var t=e(this).parent().find("input:checkbox[disabled!='disabled']:visible");t.prop("checked",e(this).hasClass("selectall")?!0:!1),t.eq("0").change()}),e(document).on("click",".optgroup",function(){var t=e.Event("zbefore_optgroup_event");if(e(this).trigger(t),t.result!==!1){var i=!1;e.each(e(this).parent().find(".optgroup_"+e(this).attr("data-optgroup")+" li input:checkbox[disabled!='disabled']"),function(){return 0==e(this).prop("checked")?(i=!0,!1):void 0}),e(this).parent().find(".optgroup_"+e(this).attr("data-optgroup")+" li input:checkbox[disabled!='disabled']").prop("checked",i).change()}}),e(window).resize(function(){t()});var n={init:function(a){var s,l,r,o,c="",u="",d=[],h=0,p=!1,f=0;if(e.each(e(this),function(t,i){if(s=Math.random().toString(36).substr(2,9),e(i).hide().attr("rel",s),e(i).parent().append("<div id='"+s+"' class='zselect'><span class='zmshead'></span><ul></ul></div>"),a.selectAll!==!1){var n="Seleziona tutto",m="Deseleziona tutto";void 0!==a.selectAllText&&(n=a.selectAllText[0],m=a.selectAllText[1]),e("#"+s+" ul").append("<li class='selectall'>"+n+"</li>"),e("#"+s+" ul").append("<li class='deselectall'>"+m+"</li>")}e.each(i,function(t,i){var n;void 0!==e(i).parent().attr("label")&&-1===d.indexOf(e(i).parent().attr("label"))&&(o=e(i).parent().find("option").size(),f+=o,p=e(i).parent().attr("label"),e("#"+s+" ul").append("<li class='optgroup' data-optgroup='"+h+"'>"+e(i).parent().attr("label")+"</li>"),e("#"+s+" ul").append(e("<div>").addClass("optgroup_"+h)),d.push(e(i).parent().attr("label"))),l=e(i).is("[data-selected]")?"checked='checked'":"",r=void 0!==e(i).data("z")?'data-z="'+e(i).data("z")+'"':"",e(i).is("[data-disabled]")?(c="disabled='disabled'",u="class='disabled'"):c=u="",n=p===!1?"#"+s+" ul":"#"+s+" ul div.optgroup_"+h,e(n).append("<li "+u+"><input value='"+e(i).val()+"' type='checkbox' "+l+" "+c+" "+r+' /><span style="width:100%;display:table-cell;">'+e(i).text()+"</span></li>"),f===t+1&&(o=0,h++,p=!1)}),e("#"+s+" span.zmshead").html(void 0===a.placeholder?"&nbsp;":a.placeholder)}),a.filter===!0){void 0===a.filterResult&&(a.filterResult=!0),void 0===a.filterResultText&&(a.filterResultText="showed");var m=void 0!==a.filterPlaceholder?a.filterPlaceholder:"Filter...",g=this.attr("rel");e("div#"+g+" ul").prepend('<li class="zmsfilter"><input type="text" placeholder="'+m+'" /></li>'),a.filterResult===!0&&e("div#"+g+" ul").append('<li class="filterResult"></li>'),e("div#"+g+" ul li.zmsfilter input").keyup(function(){var t=e(this).val().toLowerCase(),i=0,n=e("div#"+g+" ul li input:checkbox").length;e("div#"+g+" ul li input:checkbox").filter(function(n,a){-1===e(a).val().toLowerCase().indexOf(t)&&-1===e(a).parent().text().toLowerCase().indexOf(t)?e(a).parent().hide():(e(a).parent().show(),i++)}),a.filterResult===!0&&e("div#"+g+" ul li.filterResult").text(a.filterResultText+" "+i+"/"+n)})}if(void 0!==a.live){var g=this.attr("rel");e(".zselect#"+g).on("change","input:checkbox",function(t){e(a.live).val(n.getValue(e("select[rel='"+g+"']")))})}if(void 0!==a.get){for(var _=window.location.search.substring(1),v=_.split("&"),b=!1,x=0;x<v.length;x++){var y=v[x].split("=");y[0]==a.get&&(b=y[1].replace(new RegExp(",","g"),"%2C").split("%2C"))}if(b){for(var g=this.attr("rel"),k="",x=0;x<b.length;x++)e(".zselect#"+g+" ul li input:checkbox[value='"+decodeURI(b[x])+"']").prop("checked",!0),k+=b[x]+",";void 0!==a.live&&e(a.live).val(k.substring(0,k.length-1)),i(g,a.placeholder,a.selectedText)}}e(".zselect#"+g).on("change","input:checkbox",function(){var t=e(this).closest(".zselect"),n=t.attr("id");i(n,a.placeholder,a.selectedText);var s=e("select[rel="+n+"]");e.each(t.find("input:checkbox"),function(t,i){void 0!==e(i).val()&&(e(i).prop("checked")?s.find("option[value='"+e(i).val()+"']").prop("selected",!0):s.find("option[value='"+e(i).val()+"']").prop("selected",!1))})}),t()},getValue:function(t){void 0===t&&(t=this);var i=new Array,n=e(t).attr("rel");return e.each(e("div#"+n+" ul li input"),function(t,n){void 0!==e(n).val()&&e(n).prop("checked")&&i.push(e(n).val())}),i},open:function(){e("div#"+e(this).attr("rel")+" ul").show()},close:function(){e("div#"+e(this).attr("rel")+" ul").hide()},disable:function(t,i){void 0!==t?i?e("div#"+e(this).attr("rel")+" ul li input:checkbox[value='"+t+"']").attr("disabled","disabled"):e("div#"+e(this).attr("rel")+" ul li input:checkbox[value='"+t+"']").removeAttr("disabled"):i?e("div#"+e(this).attr("rel")+" ul li input:checkbox").attr("disabled","disabled"):e("div#"+e(this).attr("rel")+" ul li input:checkbox").removeAttr("disabled")},set:function(t,i){e("div#"+e(this).attr("rel")+" ul li input:checkbox[value='"+t+"']").prop("checked",i).change()},uncheckall_inpage:function(t){e(".zselect ul li input:checkbox").prop("checked",!1),e(".zselect .zmshead").text(t)},checkall_inpage:function(){e(".zselect ul li input:checkbox").prop("checked",!0).change()},checkall:function(){e("div#"+e(this).attr("rel")+" ul li input:checkbox").prop("checked",!0),e("div#"+e(this).attr("rel")+" ul li input:checkbox:last").change()},uncheckall:function(){e("div#"+e(this).attr("rel")+" ul li input:checkbox").prop("checked",!1),e("div#"+e(this).attr("rel")+" ul li input:checkbox:last").change()},destroy:function(t){e("div#"+e(this).attr("rel")+" ul li input:checkbox[value='"+t+"']").parent().remove()},reflow:function(){t(!0)},add:function(t,i){var n=i||"append",a="",s="",l="";t.checked&&(a=' checked="checked" '),t.disabled&&(s=' disabled="disabled" ',l=' class="disabled" '),"append"===n?e("div#"+e(this).attr("rel")+" ul").append("<li "+l+"><input value='"+t.value+"' type='checkbox' "+a+" "+s+" />&nbsp;"+t.text+"</li>"):e("<li "+l+"><input value='"+t.value+"' type='checkbox' "+a+" "+s+" />&nbsp;"+t.text+"</li>").insertAfter("prepend"===n?e("div#"+e(this).attr("rel")+" ul li.deselectall"):e("div#"+e(this).attr("rel")+" ul li input[value='"+n.substring(1)+"']").closest("li"))}};e.fn.zmultiselect=function(t){return n[t]?n[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist on zmultiselect"):n.init.apply(this,arguments)}}(jQuery);